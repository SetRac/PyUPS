

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>API Reference &mdash; PyUPS v0.4.2 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.4.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="PyUPS v0.4.2 documentation" href="index.html" />
    <link rel="next" title="About Openlabs Technologies and Consulting Private Limited" href="about.html" />
    <link rel="prev" title="Understanding XML Shipping Services" href="introduction.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="about.html" title="About Openlabs Technologies and Consulting Private Limited"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="introduction.html" title="Understanding XML Shipping Services"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">PyUPS v0.4.2 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-ups.shipping_package">
<span id="api-reference"></span><h1>API Reference<a class="headerlink" href="#module-ups.shipping_package" title="Permalink to this headline">¶</a></h1>
<p>shipping_package</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">copyright:</th><td class="field-body"><ol class="first loweralpha simple" start="3">
<li>2011 by Openlabs Technologies &amp; Consulting (P) Limited</li>
</ol>
</td>
</tr>
<tr class="field"><th class="field-name">copyright:</th><td class="field-body"><ol class="first loweralpha simple" start="3">
<li>2010 by Sharoon Thomas.</li>
</ol>
</td>
</tr>
<tr class="field"><th class="field-name">copyright:</th><td class="field-body"><ol class="first loweralpha simple" start="3">
<li>2011 by United Parcel Service of America (Documentation)</li>
</ol>
</td>
</tr>
<tr class="field"><th class="field-name">license:</th><td class="field-body"><p class="first last">AGPL, see LICENSE for more details.</p>
</td>
</tr>
</tbody>
</table>
<div class="section" id="shipping-package-xml-api">
<h2>Shipping Package XML API<a class="headerlink" href="#shipping-package-xml-api" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The documentation is partly extracted from the UPS Developer guide and
is hence covered by the copyright of United Parcel Service of America</p>
</div>
<p>The Shipping API makes UPS shipping services available to client 
applications that communicate with UPS using the Internet. With this API, 
applications can prepare or schedule small package shipments, manage 
returns, or cancel previously scheduled shipments.</p>
<div class="section" id="two-step-phase-shipping-process">
<h3>Two Step (Phase) Shipping Process<a class="headerlink" href="#two-step-phase-shipping-process" title="Permalink to this headline">¶</a></h3>
<p>The process to use the Shipping API consists of two phases, the <cite>ship 
confirm</cite> phase followed by the <cite>ship accept</cite> phase. An XML request/response
pair is exchanged between the client and server in each phase. The XML 
messages exchanged in the confirm phase are the ShipmentConfirmRequest 
input message and the ShipmentConfirmResponse output message. This is 
implemented in <a class="reference internal" href="#ups.shipping_package.ShipmentConfirm" title="ups.shipping_package.ShipmentConfirm"><tt class="xref py py-class docutils literal"><span class="pre">ShipmentConfirm</span></tt></a>.</p>
<p>The XML messages exchanged in the accept phase are the 
ShipmentAcceptRequest input message and the ShipmentAcceptResponse output
message. Shipment information is specified in the ShipmentConfirmRequest 
message. After the ShipmentConfirmRequest message is created, it must be 
sent to the Shipping API ShipConfirm URL address, using a HTTP POST.</p>
<p>After the ShipmentConfirmRequest message is received by the server, it is 
preprocessed and validated. If the ShipmentConfirmRequest message passes 
all validation tests, a ShipmentConfirmResponse message is returned 
containing basic rate information, the shipment Id, and the shipment digest
which can be extracted from the response using 
<a class="reference internal" href="#ups.shipping_package.ShipmentConfirm.extract_digest" title="ups.shipping_package.ShipmentConfirm.extract_digest"><tt class="xref py py-meth docutils literal"><span class="pre">ShipmentConfirm.extract_digest()</span></tt></a>.</p>
<p>If the ShipmentConfirmRequest message fails validation, a 
ShipmentConfirmResponse message is returned containing error information. 
In the event of such an error, an exception is raised.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The majority of the validation is performed in this phase but the 
actual shipment has not been created at this point.</p>
</div>
<p>In order to create a shipment and receive the shipping label(s), a 
ShipAcceptRequest message must be created and sent to the Shipping API 
ShipAccept connection address URL, using a HTTP POST. This API is 
implemented in the class <a class="reference internal" href="#ups.shipping_package.ShipmentAccept" title="ups.shipping_package.ShipmentAccept"><tt class="xref py py-class docutils literal"><span class="pre">ShipmentAccept</span></tt></a>.</p>
<p>The ShipAcceptRequest message must contain the shipment digest returned in 
the ShipmentConfirmResponse message and can be passed as an argument to
<a class="reference internal" href="#ups.shipping_package.ShipmentAccept.shipment_accept_request_type" title="ups.shipping_package.ShipmentAccept.shipment_accept_request_type"><tt class="xref py py-meth docutils literal"><span class="pre">ShipmentAccept.shipment_accept_request_type()</span></tt></a> method.</p>
<p>After the ShipmentAcceptRequest message is received in the UPS server, 
additional processing validation is performed. If the ShipmentAcceptRequest
message passes all validation tests, a ShipmentAcceptResponse message is 
returned containing detailed rate information, the Shipment Id, package 
tracking numbers and the shipping label(s).</p>
<p>If the ShipmentAcceptRequest message fails validation, a 
ShipmentAcceptResponse message is returned containing error information. As
in the <a class="reference internal" href="#ups.shipping_package.ShipmentConfirm" title="ups.shipping_package.ShipmentConfirm"><tt class="xref py py-class docutils literal"><span class="pre">ShipmentConfirm</span></tt></a> API an exception is raised.</p>
</div>
<div class="section" id="api-design-pattern">
<h3>API design pattern<a class="headerlink" href="#api-design-pattern" title="Permalink to this headline">¶</a></h3>
<p>The API extensively uses <a class="reference external" href="http://docs.python.org/library/functions.html#classmethod">Python Class Methods</a> to return XML
data structures as python objects. The final request which is an XML object
is also generated by passing some of the XML objects together to a method
like <a class="reference internal" href="#ups.shipping_package.ShipmentConfirm.shipment_confirm_request_type" title="ups.shipping_package.ShipmentConfirm.shipment_confirm_request_type"><tt class="xref py py-meth docutils literal"><span class="pre">ShipmentConfirm.shipment_confirm_request_type()</span></tt></a>. The reason for
such extensive use of class methods can be justified for the following
reasons.</p>
<blockquote>
<div><ul class="simple">
<li><cite>Object Oriented Use</cite>: Quite often ORMs and frameworks have a clearly 
separated data model and the code would be cleaner if corresponding data
handlers are along with the same chunk of code. For example, if the API 
is used with the Django ORM and all addresses are stored in a single 
model class, adding methods to it which would convert a given address to
the various types would make a much cleaner API. The use of classmethods
for such data builders would help in this case as an instance of the 
class would not have to be passed around.</li>
<li><cite>Use of helpers within class</cite>: The design using classmethods also allows
easy reuse of existing helpers in the same class or one of its ancestors
An ideal example is the use of <a class="reference internal" href="#ups.shipping_package.BaseAPIClient.make_elements" title="ups.shipping_package.BaseAPIClient.make_elements"><tt class="xref py py-meth docutils literal"><span class="pre">BaseAPIClient.make_elements()</span></tt></a> by
almost all data building methods without instantiating the class.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="integrating-your-application-with-this-api">
<h3>Integrating your application with this API<a class="headerlink" href="#integrating-your-application-with-this-api" title="Permalink to this headline">¶</a></h3>
<p>The recommended way to integrate the application is explained with the 
example of a Django project.</p>
<div class="section" id="step-1-dry-and-model-level-abstraction">
<h4>Step 1: DRY and Model level abstraction<a class="headerlink" href="#step-1-dry-and-model-level-abstraction" title="Permalink to this headline">¶</a></h4>
<p>This example assumes that you use the Model <cite>Address</cite> to store addresses
all across your application. It is then recommended that <a class="reference external" href="https://docs.djangoproject.com/en/1.3/topics/db/models/#model-methods">Model Methods</a> 
are implemented to return data structures.</p>
<p>Example:</p>
<div class="highlight-python"><pre>from django.db import models
from ups import ShipmentConfirm

class Person(models.Model):
    name = models.CharField(max_length=50)
    company = models.CharField(max_length=50)
    tax_identification = models.CharField(max_length=50)
    address_line_1 = models.CharField(max_length=100)
    address_line_2 = models.CharField(max_length=100)
    city = models.CharField(max_length=50)
    phone = models.CharField(max_length=50)

    def _get_phone_xml(self):
        return ShipmentConfirm.ship_phone_type(Number=self.phone)

    def _get_address_xml(self):
        return ShipmentConfirm.address_type(
            AddressLine1 = self.address_line_1,
            AddressLine2 = self.address_line_2,
            City = self.city,
            )

    def get_as_ship_from(self):
        '''Returns the address as a ship from address'''
        return ShipmentConfirm.ship_from_type(
            CompanyName = self.company,
            AttentionName = self.name,
            TaxIdentificationNumber = self.tax_identification,
            PhoneNumber = self._get_phone_xml()
            Address = self._get_address_xml()
            )
  

    def get_as_ship_to(self):
        '''Returns the address as a shipto address'''
        return ShipmentConfirm.ship_to_type(
            CompanyName = self.company,
            AttentionName = self.name,
            TaxIdentificationNumber = self.tax_identification,
            PhoneNumber = self._get_phone_xml()
            Address = self._get_address_xml()
            )</pre>
</div>
</div>
<div class="section" id="step-2-api-settings-storage">
<h4>Step 2: API settings storage<a class="headerlink" href="#step-2-api-settings-storage" title="Permalink to this headline">¶</a></h4>
<p>The API credentials are required to authenticate and send requests to UPS.
The main settings are the arguments to <a class="reference internal" href="#ups.shipping_package.BaseAPIClient" title="ups.shipping_package.BaseAPIClient"><tt class="xref py py-class docutils literal"><span class="pre">BaseAPIClient</span></tt></a> and
<cite>AccountNumber</cite> used in 
<a class="reference internal" href="#ups.shipping_package.ShipmentConfirm.payment_information_prepaid_type" title="ups.shipping_package.ShipmentConfirm.payment_information_prepaid_type"><tt class="xref py py-meth docutils literal"><span class="pre">ShipmentConfirm.payment_information_prepaid_type()</span></tt></a> if the prepaid
billing option is chosen as a payment method. This is application dependent
and <a class="reference external" href="https://docs.djangoproject.com/en/1.3/topics/settings/">settings.py</a>
of Django could be the right place to store for a standard Django 
application.</p>
<p>Another alternate design pattern could be to sublass API methods and 
overwrite the initialisation classes to use your custom settings. For 
example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">ups</span> <span class="kn">import</span> <span class="n">ShipmentConfirm</span> <span class="k">as</span> <span class="n">BaseShipmentConfirm</span>

<span class="k">class</span> <span class="nc">ShipmentConfirm</span><span class="p">(</span><span class="n">BaseShipmentConfirm</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Use django settings for initialisation&#39;&#39;&#39;</span>
        <span class="kn">from</span> <span class="nn">django.conf</span> <span class="kn">import</span> <span class="n">settings</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">ShipmentConfirm</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span>
            <span class="n">settings</span><span class="o">.</span><span class="n">UPS_LICENSE_NO</span><span class="p">,</span>
            <span class="n">settings</span><span class="o">.</span><span class="n">UPS_user_id</span><span class="p">,</span>
            <span class="n">settings</span><span class="o">.</span><span class="n">UPS_password</span><span class="p">,</span>
            <span class="n">settings</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">,</span> <span class="c"># Default Django DEBUG mode</span>
            <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="step-3-ready-to-go">
<h4>Step 3: Ready to GO!<a class="headerlink" href="#step-3-ready-to-go" title="Permalink to this headline">¶</a></h4>
<p>Now your application is ready to rock and roll.. A Shipment Request could 
be built using <a class="reference internal" href="#ups.shipping_package.ShipmentConfirm.shipment_confirm_request_type" title="ups.shipping_package.ShipmentConfirm.shipment_confirm_request_type"><tt class="xref py py-meth docutils literal"><span class="pre">ShipmentConfirm.shipment_confirm_request_type()</span></tt></a> and
its return value could be passed to <a class="reference internal" href="#ups.shipping_package.ShipmentConfirm.request" title="ups.shipping_package.ShipmentConfirm.request"><tt class="xref py py-meth docutils literal"><span class="pre">ShipmentConfirm.request()</span></tt></a> to make
a request to UPS. If successful it returns a response from which you need
to extract a digest for the second phase (Shipment Accept) phase. The 
digest could probably be stored in your cache (if accept immediately 
follows confirm) or in the database if later.</p>
<p>The second phase involves accepting the shipment by sending the digest back
to ups in a data structure returned by 
<a class="reference internal" href="#ups.shipping_package.ShipmentAccept.shipment_accept_request_type" title="ups.shipping_package.ShipmentAccept.shipment_accept_request_type"><tt class="xref py py-meth docutils literal"><span class="pre">ShipmentAccept.shipment_accept_request_type()</span></tt></a> and sending it using
<a class="reference internal" href="#ups.shipping_package.ShipmentAccept.request" title="ups.shipping_package.ShipmentAccept.request"><tt class="xref py py-meth docutils literal"><span class="pre">ShipmentAccept.request()</span></tt></a>. The returned object has the labels and a 
host of other information which could be accessed as through it was a 
python object. See UPS documentation for more details on what is included
in a response.</p>
</div>
</div>
</div>
<div class="section" id="shipment-confirmation-request">
<h2>Shipment Confirmation Request<a class="headerlink" href="#shipment-confirmation-request" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ups.shipping_package.ShipmentConfirm">
<em class="property">class </em><tt class="descclassname">ups.shipping_package.</tt><tt class="descname">ShipmentConfirm</tt><big>(</big><em>license_no</em>, <em>user_id</em>, <em>password</em>, <em>sandbox</em><big>)</big><a class="headerlink" href="#ups.shipping_package.ShipmentConfirm" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the ShipmentConfirmRequest</p>
<dl class="classmethod">
<dt id="ups.shipping_package.ShipmentConfirm.address_type">
<em class="property">classmethod </em><tt class="descname">address_type</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ups.shipping_package.ShipmentConfirm.address_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns lXML Element for the address_type</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>AddressLine1</strong> &#8211; Address Line 1 (Required)</li>
<li><strong>AddressLine2</strong> &#8211; Address Line 2 (Optional)</li>
<li><strong>AddressLine3</strong> &#8211; Address Line 3 (Optional)</li>
<li><strong>City</strong> &#8211; City (Required)</li>
<li><strong>StateProviceCode</strong> &#8211; Consignee&#8217;s state or province code.(Optional)
Required for US or Canada.
If destination is US or CA, then the value
must be a valid US State/Canadian
Province code. If the country is Ireland, the
StateProvinceCode will contain the county.</li>
<li><strong>CountryCode</strong> &#8211; Consignee&#8217;s country code. (Required)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Only for ShipTo Address (/ShipmentRequest/Shipment/ShipTo/Address)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>residential_address_indicator</strong> &#8211; This field is a flag to 
indicate if the receiver is a residential location. True if
ResidentialAddressIndicator tag exists; false otherwise</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">lxml</span> <span class="kn">import</span> <span class="n">etree</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">etree</span><span class="o">.</span><span class="n">tostring</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">ShipmentConfirm</span><span class="o">.</span><span class="n">address_type</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">AddressLine1</span><span class="o">=</span><span class="s">&#39;Line1&#39;</span><span class="p">,</span> <span class="n">City</span><span class="o">=</span><span class="s">&#39;City&#39;</span><span class="p">),</span> <span class="n">pretty_print</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">&lt;Address&gt;</span>
<span class="go">  &lt;City&gt;City&lt;/City&gt;</span>
<span class="go">  &lt;AddressLine1&gt;Line1&lt;/AddressLine1&gt;</span>
<span class="go">&lt;/Address&gt;</span>
<span class="go">&lt;BLANKLINE&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">etree</span><span class="o">.</span><span class="n">tostring</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">ShipmentConfirm</span><span class="o">.</span><span class="n">address_type</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">AddressLine1</span><span class="o">=</span><span class="s">&#39;Line1&#39;</span><span class="p">,</span> <span class="n">AddressLine2</span><span class="o">=</span><span class="s">&#39;Line2&#39;</span><span class="p">,</span> <span class="n">City</span><span class="o">=</span><span class="s">&#39;City&#39;</span><span class="p">),</span> 
<span class="gp">... </span>    <span class="n">pretty_print</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">&lt;Address&gt;</span>
<span class="go">  &lt;City&gt;City&lt;/City&gt;</span>
<span class="go">  &lt;AddressLine2&gt;Line2&lt;/AddressLine2&gt;</span>
<span class="go">  &lt;AddressLine1&gt;Line1&lt;/AddressLine1&gt;</span>
<span class="go">&lt;/Address&gt;</span>
<span class="go">&lt;BLANKLINE&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="ups.shipping_package.ShipmentConfirm.dimensions_type">
<em class="property">classmethod </em><tt class="descname">dimensions_type</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ups.shipping_package.ShipmentConfirm.dimensions_type" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Code</strong> &#8211; UnitOfMeasurement/Code</li>
<li><strong>Description</strong> &#8211; UnitOfMeasurement/Description</li>
<li><strong>Length</strong> &#8211; </li>
<li><strong>Width</strong> &#8211; </li>
<li><strong>Height</strong> &#8211; </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ups.shipping_package.ShipmentConfirm.extract_digest">
<em class="property">classmethod </em><tt class="descname">extract_digest</tt><big>(</big><em>response</em><big>)</big><a class="headerlink" href="#ups.shipping_package.ShipmentConfirm.extract_digest" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the Digest from the xml response</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>response</strong> &#8211; lxml Element representing the response from UPS</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ups.shipping_package.ShipmentConfirm.label_image_format_type">
<em class="property">classmethod </em><tt class="descname">label_image_format_type</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ups.shipping_package.ShipmentConfirm.label_image_format_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Label image generation format</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Code</strong> &#8211; Required if 
ShipmentConfirmRequest/LabelSpecification/LabelPrintMethod/Code is
equal to GIF. 
Valid values are GIF or PNG. Only GIF is supported on the remote 
server.</li>
<li><strong>Description</strong> &#8211; (Optional)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ups.shipping_package.ShipmentConfirm.label_print_method_type">
<em class="property">classmethod </em><tt class="descname">label_print_method_type</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ups.shipping_package.ShipmentConfirm.label_print_method_type" title="Permalink to this definition">¶</a></dt>
<dd><p>The device used to print a label image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Code</strong> &#8211; <p>Label print method code that the labels are  to be 
generated for EPL2 formatted labels use EPL, for SPL formatted 
labels use SPL, for ZPL formatted labels use ZPL, for STAR printer 
formatted labels use STARPL and for image formats use GIF.</p>
<p>For shipments without return service the valid value is GIF, EPL, 
ZPL, STARPL and SPL. For shipments with PRL return service, the 
valid values are EPL, ZPL, STARPL, SPL and GIF.</p>
</li>
<li><strong>Description</strong> &#8211; Label Specification Code description</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ups.shipping_package.ShipmentConfirm.label_specification_type">
<em class="property">classmethod </em><tt class="descname">label_specification_type</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ups.shipping_package.ShipmentConfirm.label_specification_type" title="Permalink to this definition">¶</a></dt>
<dd><p>:param LabelPrintMethod
:param LabelImageFormat (optionally required if Print method is GIF)</p>
</dd></dl>

<dl class="classmethod">
<dt id="ups.shipping_package.ShipmentConfirm.package_type">
<em class="property">classmethod </em><tt class="descname">package_type</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ups.shipping_package.ShipmentConfirm.package_type" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>PackagingType</strong> &#8211; Generated from <a class="reference internal" href="#ups.shipping_package.ShipmentConfirm.packaging_type" title="ups.shipping_package.ShipmentConfirm.packaging_type"><tt class="xref py py-meth docutils literal"><span class="pre">packaging_type()</span></tt></a></li>
<li><strong>Description</strong> &#8211; Merchandise Description of the Package (Optional)</li>
<li><strong>PackageWeight</strong> &#8211; Generated from <a class="reference internal" href="#ups.shipping_package.ShipmentConfirm.package_weight_type" title="ups.shipping_package.ShipmentConfirm.package_weight_type"><tt class="xref py py-meth docutils literal"><span class="pre">package_weight_type()</span></tt></a></li>
<li><strong>Dimensions</strong> &#8211; Generated from <a class="reference internal" href="#ups.shipping_package.ShipmentConfirm.dimensions_type" title="ups.shipping_package.ShipmentConfirm.dimensions_type"><tt class="xref py py-meth docutils literal"><span class="pre">dimensions_type()</span></tt></a></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ups.shipping_package.ShipmentConfirm.package_weight_type">
<em class="property">classmethod </em><tt class="descname">package_weight_type</tt><big>(</big><em>Weight</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ups.shipping_package.ShipmentConfirm.package_weight_type" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Weight</strong> &#8211; Packages weight. (Required)</li>
<li><strong>Code</strong> &#8211; UnitOfMeasurement/Code (Required)</li>
<li><strong>Description</strong> &#8211; UnitOfMeasurement/Description (optional)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ups.shipping_package.ShipmentConfirm.packaging_type">
<em class="property">classmethod </em><tt class="descname">packaging_type</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ups.shipping_package.ShipmentConfirm.packaging_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Packaging Container Packaging type is required for Ground Freight 
Pricing Shipments only</p>
<dl class="docutils">
<dt>The possible codes are:</dt>
<dd><ul class="first last simple">
<li>01 = UPS Letter,</li>
<li>02 = Customer Supplied Package,</li>
<li>03 = Tube,</li>
<li>04 = PAK,</li>
<li>21 = UPS Express Box,</li>
<li>24 = UPS 25KG Box,</li>
<li>25 = UPS 10KG Box</li>
<li>30 = Pallet</li>
<li>2a = Small Express Box</li>
<li>2b = Medium Express Box</li>
<li>2c = Large Express Box.</li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Only packaging type code 02 is applicable to Ground Freight 
Pricing</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Code</strong> &#8211; A code representing the package type</li>
<li><strong>Description</strong> &#8211; Anything sensible</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ups.shipping_package.ShipmentConfirm.payment_information_prepaid_type">
<em class="property">classmethod </em><tt class="descname">payment_information_prepaid_type</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ups.shipping_package.ShipmentConfirm.payment_information_prepaid_type" title="Permalink to this definition">¶</a></dt>
<dd><p>A payment method must be specified for the Bill Shipper billing option.
Therefore, either the AccountNumber child element or the CreditCard 
child element must be provided, but not both.</p>
<p>Container for the BillShipper billing option. The two payment methods 
that are available for the Bill Shipper billing option are account 
number or credit card.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>AccountNumber</strong> &#8211; Must be the same UPS account number as the one 
provided in Shipper/ShipperNumber. Either this 
element or the sibling element CreditCard must be
provided, but both may not be provided.</li>
<li><strong>CreditCard</strong> &#8211; Not Implemented Yet.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ups.shipping_package.ShipmentConfirm.payment_information_type">
<em class="property">classmethod </em><tt class="descname">payment_information_type</tt><big>(</big><em>method</em><big>)</big><a class="headerlink" href="#ups.shipping_package.ShipmentConfirm.payment_information_type" title="Permalink to this definition">¶</a></dt>
<dd><p>This element or its sibling element, ItemizedPaymentInformation, must 
be present but no more than one can be present. This API does not 
implement ItemizedPaymentInformation yet.</p>
<p>The method must be one of:</p>
<blockquote>
<div><ul class="simple">
<li>Prepaid: Use <a class="reference internal" href="#ups.shipping_package.ShipmentConfirm.payment_information_prepaid_type" title="ups.shipping_package.ShipmentConfirm.payment_information_prepaid_type"><tt class="xref py py-meth docutils literal"><span class="pre">payment_information_prepaid_type()</span></tt></a></li>
<li>BillThirdParty: TODO: Not Implemented yet</li>
<li>FreightCollect: TODO: Not Implemented yet</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="ups.shipping_package.ShipmentConfirm.request">
<tt class="descname">request</tt><big>(</big><em>shipment_confirm_request</em><big>)</big><a class="headerlink" href="#ups.shipping_package.ShipmentConfirm.request" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls up UPS and send the request. Get the returned response
and return an element built out of it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>shipment_confirm_request</strong> &#8211; lxml element with data for the
shipment_confirm_request</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ups.shipping_package.ShipmentConfirm.service_type">
<em class="property">classmethod </em><tt class="descname">service_type</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ups.shipping_package.ShipmentConfirm.service_type" title="Permalink to this definition">¶</a></dt>
<dd><p>UPS service type (This is as of the day of documenting, please
check with the latest documentation of UPS for the same)</p>
<dl class="docutils">
<dt>Possible Values for code are: </dt>
<dd><ul class="first last simple">
<li>01 = Next Day Air,</li>
<li>02 = 2nd Day Air,</li>
<li>03 = Ground,</li>
<li>07 = Express,</li>
<li>08 = Expedited,</li>
<li>11 = UPS Standard,</li>
<li>12 = 3 Day Select,</li>
<li>13 = Next Day Air Saver,</li>
<li>14 = Next Day Air Early AM,</li>
<li>54 = Express Plus,</li>
<li>59 = 2nd Day Air A.M.,</li>
<li>65 = UPS Saver.</li>
<li>82 = UPS Today Standard</li>
<li>83 = UPS Today Dedicated Courier</li>
<li>84 = UPS Today Intercity</li>
<li>85 = UPS Today Express</li>
<li>86 = UPS Today Express Saver.</li>
</ul>
</dd>
</dl>
<dl class="docutils">
<dt>The following Services are not available to return shipment: </dt>
<dd><ul class="first last simple">
<li>13 = Next Day Air Saver,</li>
<li>14 = Next Day Air Early AM,</li>
<li>59 = 2nd Day Air A.M.</li>
<li>82 = UPS Today Standard</li>
<li>83 = UPS Today Dedicated Courier</li>
<li>84 = UPS Today Intercity</li>
<li>85 = UPS Today Express</li>
<li>86 = UPS Today Express Saver.</li>
</ul>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Code</strong> &#8211; A valid service code</li>
<li><strong>Description</strong> &#8211; Description of the service code. Examples
are Next Day Air, Worldwide Express, and
Ground.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ups.shipping_package.ShipmentConfirm.ship_from_type">
<em class="property">classmethod </em><tt class="descname">ship_from_type</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ups.shipping_package.ShipmentConfirm.ship_from_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the ship from data type (/ShipmentRequest/Shipment/ShipFrom)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>CompanyName</strong> &#8211; (Required)</li>
<li><strong>AttentionName</strong> &#8211; (Required)</li>
<li><strong>TaxIdentificationNumber</strong> &#8211; (Required)</li>
<li><strong>PhoneNumber</strong> &#8211; (Required)</li>
<li><strong>FaxNumber</strong> &#8211; (Optional)</li>
<li><strong>EMailAddress</strong> &#8211; (Optional)</li>
<li><strong>Address</strong> &#8211; (Optional)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ups.shipping_package.ShipmentConfirm.ship_phone_type">
<em class="property">classmethod </em><tt class="descname">ship_phone_type</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ups.shipping_package.ShipmentConfirm.ship_phone_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns lXML Element for the phone_type</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Number</strong> &#8211; TODO</li>
<li><strong>Extension</strong> &#8211; TODO (Optional)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">lxml</span> <span class="kn">import</span> <span class="n">etree</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">etree</span><span class="o">.</span><span class="n">tostring</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">ShipmentConfirm</span><span class="o">.</span><span class="n">ship_phone_type</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">Number</span><span class="o">=</span><span class="s">&#39;number&#39;</span><span class="p">,</span> <span class="n">Extension</span><span class="o">=</span><span class="s">&#39;extn&#39;</span><span class="p">),</span> 
<span class="gp">... </span>    <span class="n">pretty_print</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">&lt;Phone&gt;</span>
<span class="go">  &lt;Number&gt;number&lt;/Number&gt;</span>
<span class="go">  &lt;Extension&gt;extn&lt;/Extension&gt;</span>
<span class="go">&lt;/Phone&gt;</span>
<span class="go">&lt;BLANKLINE&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="ups.shipping_package.ShipmentConfirm.ship_to_type">
<em class="property">classmethod </em><tt class="descname">ship_to_type</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ups.shipping_package.ShipmentConfirm.ship_to_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the ship to data type. (/ShipmentRequest/Shipment/ShipTo)
:param CompanyName: (Required)
:param AttentionName: (Required)
:param TaxIdentificationNumber: (Required)
:param PhoneNumber: (Required)
:param FaxNumber: (Optional)
:param EMailAddress: (Optional)
:param Address: (Optional)
:param LocationID: (Optional)</p>
</dd></dl>

<dl class="classmethod">
<dt id="ups.shipping_package.ShipmentConfirm.shipment_confirm_request_type">
<em class="property">classmethod </em><tt class="descname">shipment_confirm_request_type</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ups.shipping_package.ShipmentConfirm.shipment_confirm_request_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds a ShipmentConfirmRequest. All elements other than the 
description are required.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Shipper</strong> &#8211; Shipper Element generated by <a class="reference internal" href="#ups.shipping_package.ShipmentConfirm.shipper_type" title="ups.shipping_package.ShipmentConfirm.shipper_type"><tt class="xref py py-meth docutils literal"><span class="pre">shipper_type()</span></tt></a></li>
<li><strong>ShipTo</strong> &#8211; ShipTo element generated by <a class="reference internal" href="#ups.shipping_package.ShipmentConfirm.ship_to_type" title="ups.shipping_package.ShipmentConfirm.ship_to_type"><tt class="xref py py-meth docutils literal"><span class="pre">ship_to_type()</span></tt></a></li>
<li><strong>ShipFrom</strong> &#8211; ShipFrom element generated by <a class="reference internal" href="#ups.shipping_package.ShipmentConfirm.ship_from_type" title="ups.shipping_package.ShipmentConfirm.ship_from_type"><tt class="xref py py-meth docutils literal"><span class="pre">ship_from_type()</span></tt></a></li>
<li><strong>Service</strong> &#8211; Service element generated by <a class="reference internal" href="#ups.shipping_package.ShipmentConfirm.service_type" title="ups.shipping_package.ShipmentConfirm.service_type"><tt class="xref py py-meth docutils literal"><span class="pre">service_type()</span></tt></a></li>
<li><strong>PaymentInformation</strong> &#8211; PaymentInformation element generated by
<a class="reference internal" href="#ups.shipping_package.ShipmentConfirm.payment_information_type" title="ups.shipping_package.ShipmentConfirm.payment_information_type"><tt class="xref py py-meth docutils literal"><span class="pre">payment_information_type()</span></tt></a></li>
<li><strong>ShipmentServiceOptions</strong> &#8211; ShipmentServiceOptions element generated
by <a class="reference internal" href="#ups.shipping_package.ShipmentConfirm.shipment_service_option_type" title="ups.shipping_package.ShipmentConfirm.shipment_service_option_type"><tt class="xref py py-meth docutils literal"><span class="pre">shipment_service_option_type()</span></tt></a></li>
<li><strong>LabelSpecification</strong> &#8211; LabelSpecification option generated by the
<a class="reference internal" href="#ups.shipping_package.ShipmentConfirm.label_specification_type" title="ups.shipping_package.ShipmentConfirm.label_specification_type"><tt class="xref py py-meth docutils literal"><span class="pre">label_specification_type()</span></tt></a> (Optional - defaults to GIF)</li>
<li><strong>Description</strong> &#8211; Description (optional)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ups.shipping_package.ShipmentConfirm.shipment_service_option_type">
<em class="property">classmethod </em><tt class="descname">shipment_service_option_type</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ups.shipping_package.ShipmentConfirm.shipment_service_option_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Service Options:</p>
<ol class="arabic simple">
<li>SaturdayDelivery: Available to all shipment types.</li>
</ol>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">It may not be possible to book saturday deliveries more than two 
days in advance. Or in other words, SatudayDelivery can usually be
made only on bookings of Thrusday or Friday.</p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="ups.shipping_package.ShipmentConfirm.shipper_type">
<em class="property">classmethod </em><tt class="descname">shipper_type</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ups.shipping_package.ShipmentConfirm.shipper_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the shipper data type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Name</strong> &#8211; (Required)</li>
<li><strong>ShipperNumber</strong> &#8211; (Required)</li>
<li><strong>AttentionName</strong> &#8211; (Required)</li>
<li><strong>TaxIdentificationNumber</strong> &#8211; (Required)</li>
<li><strong>PhoneNumber</strong> &#8211; (Required)</li>
<li><strong>FaxNumber</strong> &#8211; (Optional)</li>
<li><strong>EMailAddress</strong> &#8211; (Optional)</li>
<li><strong>Address</strong> &#8211; (Optional)</li>
<li><strong>LocationID</strong> &#8211; (Optional)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="ups.shipping_package.ShipmentConfirm.url">
<tt class="descname">url</tt><a class="headerlink" href="#ups.shipping_package.ShipmentConfirm.url" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the API URL by concatenating the base URL provided 
by <a class="reference internal" href="#ups.shipping_package.BaseAPIClient.base_url" title="ups.shipping_package.BaseAPIClient.base_url"><tt class="xref py py-attr docutils literal"><span class="pre">BaseAPIClient.base_url</span></tt></a> and the 
<a class="reference internal" href="#ups.shipping_package.BaseAPIClient.sandbox" title="ups.shipping_package.BaseAPIClient.sandbox"><tt class="xref py py-attr docutils literal"><span class="pre">BaseAPIClient.sandbox</span></tt></a> flag</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="shipment-accept-request">
<h2>Shipment Accept Request<a class="headerlink" href="#shipment-accept-request" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ups.shipping_package.ShipmentAccept">
<em class="property">class </em><tt class="descclassname">ups.shipping_package.</tt><tt class="descname">ShipmentAccept</tt><big>(</big><em>license_no</em>, <em>user_id</em>, <em>password</em>, <em>sandbox</em><big>)</big><a class="headerlink" href="#ups.shipping_package.ShipmentAccept" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the ShipmentAcceptRequest</p>
<dl class="method">
<dt id="ups.shipping_package.ShipmentAccept.request">
<tt class="descname">request</tt><big>(</big><em>shipment_accept_request</em><big>)</big><a class="headerlink" href="#ups.shipping_package.ShipmentAccept.request" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls up UPS and send the request. Get the returned response
and return an element built out of it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>shipment_confirm_request</strong> &#8211; lxml element with data for the 
<cite>shipment_confirm_request</cite>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ups.shipping_package.ShipmentAccept.shipment_accept_request_type">
<em class="property">classmethod </em><tt class="descname">shipment_accept_request_type</tt><big>(</big><em>digest</em><big>)</big><a class="headerlink" href="#ups.shipping_package.ShipmentAccept.shipment_accept_request_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="ups.shipping_package.ShipmentAccept.url">
<tt class="descname">url</tt><a class="headerlink" href="#ups.shipping_package.ShipmentAccept.url" title="Permalink to this definition">¶</a></dt>
<dd><p>Concatenates the URL with the Base URL</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="base-class">
<h2>Base Class<a class="headerlink" href="#base-class" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ups.shipping_package.BaseAPIClient">
<em class="property">class </em><tt class="descclassname">ups.shipping_package.</tt><tt class="descname">BaseAPIClient</tt><big>(</big><em>license_no</em>, <em>user_id</em>, <em>password</em>, <em>sandbox</em><big>)</big><a class="headerlink" href="#ups.shipping_package.BaseAPIClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Base client class to be sublassed by all API methods. It implemented the 
most common minimum functionality required across all APIs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>license_no</strong> &#8211; Access License No/Key</li>
<li><strong>user_id</strong> &#8211; API user ID, Usually your UPS accoutn login</li>
<li><strong>password</strong> &#8211; API Password,Usually UPS account Password</li>
<li><strong>sandbox</strong> &#8211; True if supposed to work in test mode</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="ups.shipping_package.BaseAPIClient.access_request">
<tt class="descname">access_request</tt><a class="headerlink" href="#ups.shipping_package.BaseAPIClient.access_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the XML container for first part of any request</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">BaseAPIClient</span><span class="p">(</span><span class="s">&#39;license_no&#39;</span><span class="p">,</span> <span class="s">&#39;user_id&#39;</span><span class="p">,</span> 
<span class="gp">... </span>    <span class="s">&#39;password&#39;</span><span class="p">,</span> <span class="bp">True</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">access_request</span>
<span class="go">&lt;Element AccessRequest at 0x...&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">lxml</span> <span class="kn">import</span> <span class="n">etree</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">etree</span><span class="o">.</span><span class="n">tostring</span><span class="p">(</span><span class="n">client</span><span class="o">.</span><span class="n">access_request</span><span class="p">,</span> <span class="n">pretty_print</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">&lt;AccessRequest&gt;</span>
<span class="go">  &lt;Password&gt;password&lt;/Password&gt;</span>
<span class="go">  &lt;UserId&gt;user_id&lt;/UserId&gt;</span>
<span class="go">  &lt;AccessLicenseNumber&gt;license_no&lt;/AccessLicenseNumber&gt;</span>
<span class="go">&lt;/AccessRequest&gt;</span>
<span class="go">&lt;BLANKLINE&gt;</span>
<span class="gp">&gt;&gt;&gt; </span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="ups.shipping_package.BaseAPIClient.base_url">
<tt class="descname">base_url</tt><a class="headerlink" href="#ups.shipping_package.BaseAPIClient.base_url" title="Permalink to this definition">¶</a></dt>
<dd><p>UPS uses different URLs to differenciate between a production request
and a sandbox request.</p>
</dd></dl>

<dl class="method">
<dt id="ups.shipping_package.BaseAPIClient.create_logger">
<tt class="descname">create_logger</tt><big>(</big><big>)</big><a class="headerlink" href="#ups.shipping_package.BaseAPIClient.create_logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a logger.  This logger works similar to a regular Python 
logger but changes the effective logging level based on the API&#8217;s 
sandbox flag.
Furthermore this function also removes all attached handlers in case there 
was a logger with the log name before.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Copyright :</th><td class="field-body"><ol class="first last loweralpha simple" start="3">
<li>2010 by Armin Ronacher.</li>
</ol>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="ups.shipping_package.BaseAPIClient.debug_log_format">
<tt class="descname">debug_log_format</tt><a class="headerlink" href="#ups.shipping_package.BaseAPIClient.debug_log_format" title="Permalink to this definition">¶</a></dt>
<dd><p>The logging format used for the debug logger.  This is only used when
the application is in debug mode, otherwise the attached logging
handler does the formatting.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Copyright :</th><td class="field-body"><ol class="first last loweralpha simple" start="3">
<li>2010 by Armin Ronacher.</li>
</ol>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="ups.shipping_package.BaseAPIClient.logger">
<tt class="descname">logger</tt><a class="headerlink" href="#ups.shipping_package.BaseAPIClient.logger" title="Permalink to this definition">¶</a></dt>
<dd><p>A <tt class="xref py py-class docutils literal"><span class="pre">Logger</span></tt> object</p>
<p>This logger can be used to (surprise) log messages.</p>
<p>Here are some examples:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&#39;Something to debug &#39;</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s">&#39;Final Warning : </span><span class="si">%s</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;I dont know&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="#ups.shipping_package.BaseAPIClient.sandbox" title="ups.shipping_package.BaseAPIClient.sandbox"><tt class="xref py py-attr docutils literal"><span class="pre">sandbox</span></tt></a> flag automatically sets the logger in 
<tt class="xref py py-attr docutils literal"><span class="pre">DEBUG</span></tt> mode.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span><span class="p">;</span> <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">BaseAPIClient</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">logger</span>
<span class="go">&lt;....DebugLogger instance at 0x...&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&#39;Test&#39;</span><span class="p">)</span>
<span class="go">-...</span>
<span class="go">DEBUG in ...:</span>
<span class="go">Test</span>
<span class="go">-...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">sandbox</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">_logger</span> <span class="o">=</span> <span class="bp">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&#39;Test&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="ups.shipping_package.BaseAPIClient.look_for_error">
<em class="property">classmethod </em><tt class="descname">look_for_error</tt><big>(</big><em>response</em><big>)</big><a class="headerlink" href="#ups.shipping_package.BaseAPIClient.look_for_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Looks for an element error and raises an <a href="#id1"><span class="problematic" id="id2">:exception:`PyUPSException`</span></a>
out of it, which could be handled by applications using this API.</p>
</dd></dl>

<dl class="classmethod">
<dt id="ups.shipping_package.BaseAPIClient.make_elements">
<em class="property">classmethod </em><tt class="descname">make_elements</tt><big>(</big><em>required_keys</em>, <em>args</em>, <em>kwargs</em><big>)</big><a class="headerlink" href="#ups.shipping_package.BaseAPIClient.make_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensures that the given keys exist in either the elements list given
by args or exist as keys in the kwargs (with their values). The kwargs
are converted into elements with tags as their keys and the text as the
value provided in the dict. Then the elements in args and kwargs are
combined into a list and returned</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>required_keys</strong> &#8211; An iterable of the required Keys</li>
<li><strong>kwargs</strong> &#8211; A dictionary of the key:value pairs to make elements</li>
<li><strong>args</strong> &#8211; A list of elements as positional args. Their tag attribute
will be evaluated to check for existance</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a list of lxml Elements made out of key value pairs and args</p>
</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">BaseAPIClient</span><span class="o">.</span><span class="n">make_elements</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">],</span> <span class="p">[],</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">:</span> <span class="s">&#39;2&#39;</span><span class="p">})</span>
<span class="go">[&lt;Element a at 0x...&gt;, &lt;Element b at 0x...&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">BaseAPIClient</span><span class="o">.</span><span class="n">make_elements</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">],</span> <span class="p">[</span><span class="n">E</span><span class="o">.</span><span class="n">b</span><span class="p">(</span><span class="s">&#39;2&#39;</span><span class="p">)],</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">})</span>
<span class="go">[&lt;Element a at 0x...&gt;, &lt;Element b at 0x...&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">BaseAPIClient</span><span class="o">.</span><span class="n">make_elements</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">],</span> <span class="p">[],</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">,})</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">ValueError</span>: <span class="n">Attributes b is/are required.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">BaseAPIClient</span><span class="o">.</span><span class="n">make_elements</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">],</span> <span class="p">[],</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">,})</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">ValueError</span>: <span class="n">Attributes c,b is/are required.</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="ups.shipping_package.BaseAPIClient.sandbox">
<tt class="descname">sandbox</tt><a class="headerlink" href="#ups.shipping_package.BaseAPIClient.sandbox" title="Permalink to this definition">¶</a></dt>
<dd><p>UPS API allows test requests to be made to its servers. The <cite>sandbox</cite>
flag, is used by the API to determine if calls must be made to the
production servers or the sandbox servers provided by UPS</p>
</dd></dl>

<dl class="method">
<dt id="ups.shipping_package.BaseAPIClient.send_request">
<tt class="descname">send_request</tt><big>(</big><em>url</em>, <em>data</em><big>)</big><a class="headerlink" href="#ups.shipping_package.BaseAPIClient.send_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends data to the server on a request</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="exceptions">
<h2>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="ups.shipping_package.PyUPSException">
<em class="property">exception </em><tt class="descclassname">ups.shipping_package.</tt><tt class="descname">PyUPSException</tt><a class="headerlink" href="#ups.shipping_package.PyUPSException" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/128-128.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">API Reference</a><ul>
<li><a class="reference internal" href="#shipping-package-xml-api">Shipping Package XML API</a><ul>
<li><a class="reference internal" href="#two-step-phase-shipping-process">Two Step (Phase) Shipping Process</a></li>
<li><a class="reference internal" href="#api-design-pattern">API design pattern</a></li>
<li><a class="reference internal" href="#integrating-your-application-with-this-api">Integrating your application with this API</a><ul>
<li><a class="reference internal" href="#step-1-dry-and-model-level-abstraction">Step 1: DRY and Model level abstraction</a></li>
<li><a class="reference internal" href="#step-2-api-settings-storage">Step 2: API settings storage</a></li>
<li><a class="reference internal" href="#step-3-ready-to-go">Step 3: Ready to GO!</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#shipment-confirmation-request">Shipment Confirmation Request</a></li>
<li><a class="reference internal" href="#shipment-accept-request">Shipment Accept Request</a></li>
<li><a class="reference internal" href="#base-class">Base Class</a></li>
<li><a class="reference internal" href="#exceptions">Exceptions</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="introduction.html"
                        title="previous chapter">Understanding XML Shipping Services</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="about.html"
                        title="next chapter">About Openlabs Technologies and Consulting Private Limited</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/api_reference.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="about.html" title="About Openlabs Technologies and Consulting Private Limited"
             >next</a> |</li>
        <li class="right" >
          <a href="introduction.html" title="Understanding XML Shipping Services"
             >previous</a> |</li>
        <li><a href="index.html">PyUPS v0.4.2 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Openlabs Technologies &amp; Consulting (P) Limited.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>